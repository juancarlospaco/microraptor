<head>
    <meta charset="utf-8"/>
    <title>{% {{ os.path.splitext(os.path.basename(args.markdown_file))[0].title() }} %}</title>
    <link rel=icon type="image/x-icon" href="https://www.python.org/static/favicon.ico">
    <meta name=author content="{% {{ getuser().title() }} %}"/>
    <meta name=viewport content="width=device-width, initial-scale=1.0">
    <meta name=generator content=Microraptor >
    <meta name=description content="Presentation generated by Microraptor">
    <meta name=keywords content="Presentation,Python,HTML5,3D,ImpressJS,Slides">
</head>


<body class="impress-not-supported">
<div class="fallback-message">
    <!-- This warning message is shown when web browser dont support the requirements. -->
    <p>Your browser <b>does not support the features required</b> by impress.js, so you are presented with a simplified (broken) version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chromium</b>, <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
    <hr>
    <p>Tu navegador <b>no soporta las caracteristicas requeridas</b> por impress.js, se presentara una version simplificada (rota) de esta presentacion.</p>
    <p>Para una mejor experiencia por favor usa un navegador web actualizado de <b>Chromium</b>, <b>Chrome</b>, <b>Safari</b> o <b>Firefox</b>.</p>
</div>

<div id=impress data-transition-duration=1000 >
{%

for index, content in enumerate(presentation_slides):
    {{ """
    <!-- Begins presentation slide number: {number} -->
    <div id={number} class="step {efekt}" data-rel-x="{rx}" data-rel-y="{ry}" data-rotate="{rota}" data-rotate-x="{dx}" data-rotate-y="{dy}" data-x="{x}" data-y="{y}" data-z="{z}" data-scale="{s}">
    {content}
    </div>
    <!-- Ends presentation slide number: {number} -->
    """.format(
        number=index, content=content,
        dx=randint(1, 5), dy=randint(1, 5),
        rx=randint(1000, 5000), ry=randint(5000, 9000), rota=randint(-666, 666),
        x=randint(1000, 5000), y=randint(5000, 9000),
        z=randint(1, 5), s=randint(1, 9),
        efekt=choice(("saturate", "grayscale", "contrast", "brightness", "invert", "sepia", "huerotate", ""))) }}

{{ """
<!-- Begins presentation slide overview -->
<div id=overview class=step data-x={x} data-y={y} data-scale={s} style='pointer-events:none' data-rotate={rota} ></div>
<!-- Ends presentation slide overview -->
""".format(x=randint(1000, 5000), y=randint(1000, 5000),
           s=randint(2, 9), rota=randint(-720, 720)) }}

%}
</div>


<div id="impress-toolbar"></div>

<div id="impress-help"></div>


{%

_notes = ""
if args.notes:
    with open(args.notes, encoding="utf-8") as note_file:
        _notes = note_file.read().strip()

{{ """
<!-- Begins presentation slide notes -->
<details class=notes >
    <summary>?</summary>

    <b>Source:</b><br>
    <textarea title=Source readonly >{source}</textarea><br>
    <a href="data:text/plain;charset=utf8;base64,{base}" rel="noopener noreferrer nofollow" download="presentation.md" title=Source target=_blank >Source Download</a><br>

    <b>Notes:</b><br>
    <textarea placeholder="Presentation Notes" title=Notes readonly >{notez}</textarea><br>
    <a href="data:text/plain;charset=utf8;base64,{noted}" rel="noopener noreferrer nofollow" download="presentation-notes.txt" title=Notes target=_blank >Notes Download</a><br>

    <b>Tip:</b><br>
    <input type=text title="Install Microraptor to recompile presentation" value="pip install microraptor" onclick="this.focus();this.select()" readonly ><br>
    <a href="https://github.com/juancarlospaco/microraptor" rel="noopener noreferrer nofollow" title="Microraptor Homepage Website" target=_blank >Microraptor Website</a><br>
</details>
<!-- Ends presentation slide notes -->
""".format(source=MARKDOWN.strip(),
           base=urlsafe_b64encode(MARKDOWN.strip().encode("utf-8")).decode("utf-8"),
           notez=_notes,
           noted=urlsafe_b64encode(_notes.encode("utf-8")).decode("utf-8"))
}}

%}

<style>
{%

if not args.nofont:
    font_for_title = get_random_display_font()
    font_for_codes = get_random_mono_font()
    font_for_texts = get_random_sans_font()
    font_for_other = get_random_serif_font()
    font_for_quote = get_random_handwriting_font()

    for font_name in (font_for_title, font_for_codes, font_for_texts, font_for_quote, font_for_other):
        {{ "@import url(https://fonts.googleapis.com/css?family='{font_name}');\n".format(font_name=font_name) }}

    {{ "body, .step             {font-family: %s};\n" % font_for_texts }}
    {{ "table, tbody, del       {font-family: %s};\n" % font_for_other }}
    {{ "h1, h2, h3              {font-family: %s};\n" % font_for_title }}
    {{ ".blockquote, blockquote {font-family: %s};\n" % font_for_quote }}
    {{ ".code, code, pre        {font-family: '%s'};" % font_for_codes }}

%}

.fallback-message {
    line-height: 1.3;
    width: 780px;
    padding: 9px 9px 0;
    margin: 9px auto;
    border: 1px solid red;
    border-radius: 9px;
    background: orange
}
.fallback-message p {margin-bottom: 9px}
.impress-supported .fallback-message {display: none}
/* Disable mouse clicks / focus for body */
.impress-enabled {pointer-events: none}
.impress-enabled #impress, .impress-enabled #impress-toolbar, .impress-enabled .notes {pointer-events: auto}

.notes {
    display: fixed;
    top: 1px;
    left: 1px;
    font-size: 9px;
    opacity: .5
}

h1, h2, h3 {text-align: center}

p {margin: .7em}

li {margin: .2em}

.code, code {
    background-color: white;
    text-shadow: none;
    opacity: 1;
    border-radius: 0
}

strike {opacity: .7}

textarea, button, input[type=text], dialog, img, textarea {border-radius: 9px};

img[src*="http://img.youtube.com/vi/"] {
  -webkit-clip-path: polygon(3% 3%, 90% 0, 100% 90%, 0 100%);
  clip-path:         polygon(3% 3%, 90% 0, 100% 90%, 0 100%)
}

/* Presentation */
body {
    background: #fff;
    background:
            linear-gradient( {% {{ get_random_pastelight_color() if not args.nocolor else 'transparent' }} %}, transparent),
            linear-gradient(90deg, {% {{ get_random_pastelight_color() if not args.nocolor else 'transparent' }} %}, transparent),
            linear-gradient(-90deg, {% {{ get_random_pastelight_color() if not args.nocolor else 'transparent' }} %}, transparent);
    background-blend-mode: screen
}

.step {
    position: relative;
    width: 1024px;
    height: auto;
    min-width: 1024px;
    min-height: 768px;
    padding: 9px 9px;
    margin: 9px auto;
    color: {%  {{ get_random_pasteldark_color() if not args.nocolor else 'transparent' }} %};
    text-shadow: 0 1px 2px {%  {{ get_random_pasteldark_color() if not args.nocolor else 'transparent' }} %};
    box-sizing: border-box;
    font-size: 30px
}

/* Simple effects for non-active slides (blur kills performance so is out) */
.saturate   { filter: saturate(3)        }
.grayscale  { filter: grayscale(99%)     }
.contrast   { filter: contrast(99%)      }
.brightness { filter: brightness(9)      }
.invert     { filter: invert(99%)        }
.sepia      { filter: sepia(99%)         }
.huerotate  { filter: hue-rotate(180deg) }

/* Make inactive steps a little bit transparent */
.impress-enabled .step {
    margin: 0;
    opacity: .05;
    transition: all 1s
}
.impress-enabled .step.active {opacity: 1; filter: none}

/* Plugins */
.impress-enabled div#impress-toolbar {
    position: fixed;
    right: 1px;
    bottom: 1px;
    opacity: .6;
}
.impress-enabled div#impress-toolbar > span {margin-right: 9px}
body.impress-mouse-timeout div#impress-toolbar {display: none}
body.impress-mouse-timeout {cursor: none}

/* Help popup */
.impress-enabled #impress-help {
    background: #fff;
    background:
    radial-gradient(at bottom right, dodgerblue 0, dodgerblue 1em, lightskyblue 1em,
        lightskyblue 2em, deepskyblue 2em, deepskyblue 3em, gainsboro 3em, gainsboro 4em,
        lightsteelblue 4em, lightsteelblue 5em, deepskyblue 5em, deepskyblue 6em,
        lightskyblue 6em, lightskyblue 7em, transparent 7em, transparent 8em),
    radial-gradient(at top left, transparent 0, transparent 1em, lightskyblue 1em,
        lightskyblue 2em, deepskyblue 2em, deepskyblue 3em, lightsteelblue 3em,
        lightsteelblue 4em, gainsboro 4em, gainsboro 5em, deepskyblue 5em,
        deepskyblue 6em, skyblue 6em, skyblue 7em, dodgerblue 7em, dodgerblue 8em,
        transparent 8em, transparent 20em),
    radial-gradient(circle at center bottom, coral, darkslateblue);
    background-blend-mode: overlay;
    background-size: 8em 8em, 8em 8em, cover;
    color: #000;
    font-size: 80%;
    position: fixed;
    left: 2em;
    bottom: 2em;
    width: 24em;
    border-radius: 1em;
    padding: 1em;
    text-align: center;
    z-index: 99;
    opacity: .6;
    font-family: Verdana, Arial, Sans
}
.impress-enabled #impress-help td {padding-left: 1em; padding-right: 1em}

{% {{ HtmlFormatter(linenos=True, anchorlinenos=True).get_style_defs() }} %}
</style>

<!-- User custom CSS -->
<style>
{%
if args.css:
    with open(args.css, encoding="utf-8") as styles:
        {{ styles.read().strip() }}
%}
</style>


<!-- User custom JavaScript -->
<script>
{%
if args.js:
    with open(args.js, encoding="utf-8") as javascripts:
        {{ javascripts.read().strip() }}
%}
</script>


<script>{% {{ IMPRESS }} %}</script>
<script>impress().init()</script>


</body>


<!-- Microraptor https://github.com/juancarlospaco/microraptor -->
